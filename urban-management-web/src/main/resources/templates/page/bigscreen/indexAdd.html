<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>数字化指挥中心</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/addScreen.css}"/>
    <link th:href="@{/css/gridInformation.css}" rel="stylesheet" type="text/css">
</head>
<body>
<div class="screen flexC">
    <div class="n-map"></div>
    <div class="top flex">
        <div class="date flex">
            <div class="n-title-left"></div>
            <span class="dateNum flex" id="year"></span><span class="dateText">年</span>
            <span class="dateNum flex" id="mon"></span><span class="dateText">月</span>
            <span class="dateNum flex" id="day"></span><span class="dateText">日</span>
            <span class="dateText">气温</span><span class="dateNum flex" id="hot"></span>
        </div>
        <div class="title flex title-center">
            <img th:src="@{/img/n-title.png}" style="width: 100%;height: 100%;">
        </div>
        <div class="time flex">
            <div class="n-title-right"></div>
            <span class="dateText flex" id="apm"></span><span class="dateNum flex" id="hour"></span>
            <span class="dateText">点</span><span class="dateNum flex" id="min"></span>
            <span class="dateText">分</span><span class="dateText">星期</span>
            <span class="dateNum flex" id="week"></span>
        </div>
    </div>
    <div class="bottom flex">
        <div class="le flexC">
            <div class="mathBox flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">高发区域</div>
                    <div class="n-title2"></div>
                </div>

                <!-- 表格 -->
                <div class="chart" id="gfqy"></div>
            </div>
            <div class="mathBox flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">高发类型</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="gflx"></div>
            </div>
            <div class="lessBox flex">
                <div class="hug flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">同比分析</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="tbfx"></div>
                </div>
                <div class="hug flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">环比分析</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="hbfx"></div>
                </div>
            </div>
        </div>
        <div class="center flexC">
            <div class="maps flex"  id="map" >
                <!-- 上报立案处置结案 -->
                <div class="ctrl_top flex">
                    <div class="text_ctrl flexC" id="reporting">
                        <span class="topVtrl_title">上报</span><span id="report"></span>
                    </div>
                    <div class="text_ctrl flexC" id="register">
                        <span class="topVtrl_title">立案</span><span id="inst"></span>
                    </div>
                    <div class="text_ctrl flexC" id="caseclosed">
                        <span class="topVtrl_title">处置</span><span id="dispose"></span>
                    </div>
                    <div class="text_ctrl flexC" id="caseDispose">
                        <span class="topVtrl_title">结案</span><span id="close"></span>
                    </div>
                </div>
                <!-- 人员车辆摄像头 -->
                <div class="ctrl_left flexC">
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">人员</div>
                    </div>
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">车辆</div>
                    </div>
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">摄像头</div>
                    </div>
                </div>
            </div>
            <div class="chearts flex">
                <div class="dom_pach flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">案件动态</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart">
                        <div class="tableTitle">
                            <div class="tabletext">
                                <span class="text_inner_info">实时情况</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">案件编号</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">类型</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">地区</span>
                            </div>
                        </div>
                        <div class="table"  style="height: 80%;margin-top: 10px">
                            <div id="scroll">
                                <div id="con1">
                                    <ul>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">南岗</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">23001572762</span>
                                            <span class="over_ell">南岗区花园街</span>
                                            <span class="over_ell">2</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">1223318988123</span>
                                            <span class="over_ell">南岗区儿童公园</span>
                                            <span class="over_ell">1</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">香坊区文正街</span>
                                            <span class="over_ell">12</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">道里区花园街</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">道里区中央大街</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                    </ul>
                                </div>

                                <div class="con2"></div>
                                <div class="con2"></div>
                                <div class="con2"></div>
                                <div class="con2"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dom_pach flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">案件趋势</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="ajqs"></div>
                </div>
            </div>
        </div>
        <div class="ri flexC">
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">人员管理</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="rygl"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">问题来源</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="wtly"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">部门考核</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="bmkh"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">人员考核</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="rykh"></div>
            </div>
        </div>
    </div>
</div>

</body>

<th:block th:include="page/fragments/common :: common_js"/>
<!--<th:block th:include="page/fragments/common :: echarts_js"/>-->
<!--<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js" type="text/javascript"></script>-->
<!--<th:block th:include="page/fragments/common :: echarts_liquidfill_js"/>-->
<script type="text/javascript" th:src="@{/plugins/echarts/newEcharts.min.js}"></script>
<th:block th:include="page/fragments/common :: map_js"/>
<th:block th:include="page/fragments/common :: mapinit_js"/>
<script th:src="@{/js/index.js}"></script>
<script src="https://pv.sohu.com/cityjson?ie=utf-8" type="text/javascript"></script>
<script>
    var countUrl = /*[[@{/bigscreen/count}]]*/ "/bigscreen/count";
    var showPointsUrl = /*[[@{/bigscreen/showPoints}]]*/ "/bigscreen/showPoints";
    var findHighIncidenceUrl = /*[[@{/commandSubsystem/findHighIncidence}]]*/ "/commandSubsystem/findHighIncidence";
    var getTrendAnalysisUrl = /*[[@{/commandSubsystem/getTrendAnalysis}]]*/ "/commandSubsystem/getTrendAnalysis";
    var getIndexValue = /*[[@{/bigScreen/getIndexValue}]]*/ "/bigScreen/getIndexValue";
    var findHotGrid = /*[[@{/bigScreen/getIndexValue}]]*/ "/bigScreen/findHotGrid";//高发区域
    var findHighIncidence = /*[[@{/bigScreen/findHighIncidence}]]*/ "/bigScreen/findHighIncidence";//高发类型
    //高发区域
    findHighGrid();
    function findHighGrid(){
        var myChart1 = echarts.init(document.getElementById('gfqy'));
        $.ajaxUtil.get(findHotGrid, function (e) {
            if(e.code==0){
                let totalClose=[];
                let totalDispose=[];
                let totalInst=[];
                let totalName=[];
                let data = e.data;
                for (let i=0; i< data.length; i++){
                    totalClose.push(data[i].totalClose);
                    totalDispose.push(data[i].totalDispose);
                    totalInst.push(data[i].totalInst);
                    totalName.push(data[i].gridName);
                }
                var option1 = {
                    // backgroundColor: '#001120',
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    legend: {
                        itemHeight: 15,
                        itemWidth: 15,
                        data:[
                            { name: "结案数", icon: "roundRect" },
                            { name: "处置数", icon: "roundRect" },
                            { name: "立案数", icon: "roundRect" },
                        ],
                        orient: "vertical",
                        textStyle: {
                            fontSize: 12,
                            color: "#ffffff",
                            fontFamily: "SourceHanSansCN-Regular"
                        },
                        y: "top",
                        x: "right",
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis : [
                        {
                            type : 'category',
                            data : totalName,
                            splitLine: {
                                show: false
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#fff',
                                }
                            },
                            axisLabel: {
                                color: '#fff'
                            }
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value',
                            splitLine: {
                                show: false
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#fff',
                                }
                            }
                        }
                    ],
                    series : [
                        {
                            name:'结案数',
                            type:'bar',
                            barWidth: 13,
                            itemStyle: {
                                barBorderRadius: [5, 5, 0, 0],
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: "rgba(63, 255, 234, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalClose
                        },

                        {
                            name:'处置数',
                            type:'bar',
                            barWidth : 13,
                            barGap: '-100%',
                            stack: '广告',
                            itemStyle: {
                                barBorderRadius: [5, 5, 0, 0],
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0.4,
                                    color: "rgba(255, 119, 87, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalDispose
                        },
                        {
                            name:'立案数',
                            type:'bar',
                            barWidth : 13,
                            barGap: '-100%',
                            stack: '广告',
                            itemStyle: {
                                barBorderRadius: [5, 5, 0, 0],
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0.4,
                                    color: "rgba(168, 84, 255, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalInst
                        },
                        // {
                        //     name:'结案',
                        //     type:'bar',
                        //      barWidth : 13,
                        //     barGap: '-100%',
                        //     stack: '广告',
                        //     itemStyle: {
                        //         barBorderRadius: [5, 5, 0, 0],
                        //         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        //             offset: 0.4,
                        //             color: "rgba(255, 234, 0, 1)"
                        //         },
                        //             {
                        //                 offset: 1,
                        //                 color: "rgba(8,228,222,0.2)"
                        //             }
                        //         ])
                        //     },
                        //     data:[220, 182, 191, 234, 290, 330, 310]
                        // }

                    ],
                    grid: {
                        left: '3%',
                        bottom: '3',
                        // right: '5%',
                        containLabel: true,
                        width:'92%', // grid 组件的宽度。默认自适应。
                        height:'95%'
                    },
                };
                myChart1.setOption(option1);
            }

        });
    }
    // 高发类型
    getFindHighIncidence();
    function getFindHighIncidence(){
        var myChart2 = echarts.init(document.getElementById('gflx'));
        $.ajaxUtil.get(findHighIncidence, function (e) {
            if(e.code==0){
                let totalClose=[];
                let totalDispose=[];
                let totalInst=[];
                let totalName=[];
                let data = e.data;
                for (let i=0; i< data.length; i++){
                    console.log("aaa"+data[i])
                    totalClose.push(data[i].totalClose);
                    totalDispose.push(data[i].totalDispose);
                    totalInst.push(data[i].totalInst);
                    totalName.push(data[i].name);
                }
                var option2 = {
                    // backgroundColor: '#001120',
                    tooltip : {
                        trigger: 'axis',
                        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    legend: {
                        itemHeight: 15,
                        itemWidth: 15,
                        data:[
                            { name: "结案数", icon: "roundRect" },
                            { name: "处置数", icon: "roundRect" },
                            { name: "立案数", icon: "roundRect" },
                        ],


                        orient: "vertical",
                        textStyle: {
                            fontSize: 12,
                            color: "#ffffff",
                            fontFamily: "SourceHanSansCN-Regular"
                        },
                        y: "top",
                        x: "right",
                    },
                    grid: {
                        left: '3%',
                        bottom: '3',
                        // right: '5%',
                        containLabel: true,
                        width:'90%', // grid 组件的宽度。默认自适应。
                        height:'95%'
                    },
                    xAxis : [
                        {
                            type : 'category',
                            data :totalName,
                            splitLine: {
                                show: false
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#fff',
                                }
                            },
                            axisLabel: {
                                color: '#fff'
                            }
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value',
                            splitLine: {
                                show: false
                            },
                            axisLine: {
                                lineStyle: {
                                    color: '#fff',
                                }
                            }
                        }
                    ],
                    series : [
                        {
                            name:'结案数',
                            type:'bar',
                            barWidth : 13,
                            itemStyle: {
                                barBorderRadius: 5,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0,
                                    color: "rgba(63, 255, 234, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalClose
                        },
                        {
                            name:'处置数',
                            type:'bar',
                            barWidth : 13,
                            barGap: '-100%',
                            stack: '广告',
                            itemStyle: {
                                barBorderRadius: 5,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0.4,
                                    color: "rgba(255, 119, 87, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalDispose
                        },
                        {
                            name:'立案数',
                            type:'bar',
                            barWidth : 13,
                            barGap: '-100%',
                            stack: '广告',
                            itemStyle: {
                                barBorderRadius: 5,
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                    offset: 0.4,
                                    color: "rgba(168, 84, 255, 0.82)"
                                },
                                    {
                                        offset: 1,
                                        color: "rgba(0, 126, 255, 0.2)"
                                    }
                                ])
                            },
                            data:totalInst
                        },


                    ]
                };
                myChart2.setOption(option2);
            }
        })

    }

    $(function () {
        $.ajaxUtil.get(getIndexValue, function (e) {
            console.log(e)
            let data = e.data;
            $("#report").text(data.report);
            $("#inst").text(data.inst);
            $("#dispose").text(data.dispose);
            $("#close").text(data.close);

        });

        var date = new Date()
        let YYYY = date.getFullYear()
        $("#year").html(YYYY)
        let dd = date.getMonth()+1
        $("#mon").html(dd)
        let myday = date.getDate()
        $("#day").html(myday)
        let day = date.getDay()
        $("#week").html(day)
        setInterval(() => {
            let HH = date.getHours()
            if (HH >= 12){
                $("#apm").html('下午')
            }else {
                $("#apm").html('上午')
            }
            let mm = date.getMinutes()
            $("#hour").html(HH)
            $("#min").html(mm)
        }, 1000);


        getWeather();
        function getWeather() {
            jQuery.support.cors = true;
            $.ajax({
                url: "http://wthrcdn.etouch.cn/weather_mini",
                type: "GET",
                dataType: 'json',
                data: {city: (returnCitySN.cname).split('省')[1]}, //(returnCitySN.cname).split('省')[1]：获取所在的市

                success: function (res) {
                    //var res=JSON.parse(res);
                    var city = res.data.city;//所在城市
                    var maxTemperature = res.data.forecast[0].high;//最高温度
                    var minTemperature = res.data.forecast[0].low;//最低温度
                    var weather = minTemperature.split(' ')[1] + '~' + maxTemperature.split(' ')[1];
                    var type = res.data.forecast[0].type;//天气状态
                    $("#hot").html(maxTemperature.slice(3))
                },
                error: function (err) {
                    console.log(err)
                }
            });
        }

        var time = 60;
        var box = document.getElementById('scroll');
        var con1 = document.getElementById('con1');
        var con2 = document.querySelectorAll('.con2');
        $(".con2").html($("#con1").html())

        function Up() {
            if (box.scrollTop >= con1.offsetHeight) {
                box.scrollTop = 0;
            } else {
                box.scrollTop++
            }
        }

        var setlId = setInterval(Up, time);

        $("#scroll").mouseover(function () {
            clearInterval(setlId);
        })

        $("#scroll").mouseleave(function () {
            setlId = setInterval(Up, time);
        })

        $("#reporting").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "reporting", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });

        })
        $("#register").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "register", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });

        })
        $("#caseDispose").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "caseDispose", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });
        });
        $("#caseclosed").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "caseclosed", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });
        });


        function setPoint(x, y, id, eventCode, represent, eventTypeName) {
            let point = new ol.Feature({
                geometry: new ol.geom.Point([x, y]),
                data: {
                    eventId: id,
                    eventCode: eventCode,
                    represent: represent,
                    eventTypeName: eventTypeName,
                    coordinate: x + "," + y
                }
            });
            point.setStyle(new ol.style.Style({
                image: new ol.style.Icon({
                    src: '../img/dwpoint3.png'
                })
            }));
            layerMap.getSource().addFeature(point);
        }



    })




    // 同比分析
    var myChart = echarts.init(document.getElementById('tbfx'));
    var  getsyzl=['道里','道外','香坊','南岗'];
    var  getwkrs=[826,673,588,782];
    var  getlkrs=[686,703,788,882];
    option= {
        grid: {
            top: '10%',
            left: '2%',
            right: '2%',
            bottom: '3%',
            containLabel: true
        },
        legend: {
            itemHeight: 15,
            itemWidth: 15,
            data:[
                { name: "本期", icon: "roundRect" },
                { name: "同期", icon: "roundRect" },

            ],
            right: "3%",
            top:"4%",
            textStyle: {
                color: "#A1D5FF",
                fontSize: 12
            },
            itemWidth: 12,  // 设置宽度
            itemHeight:16, // 设置高度
            itemGap: 12 // 设置间距
        },
        xAxis: [{
            data: getsyzl,
            axisLabel: {
                margin: 10,
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                lineStyle: {
                    color: '#102E74',
                }
            },
            axisTick: {
                show: false
            },
        }],
        yAxis: [{
            type:'value',
            axisLabel: {
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                show:false,
            },
            axisTick: {
                show: false
            },
            splitLine: {
                lineStyle: {
                    color: '#102E74',
                }
            }
        }],
        series: [
            {
                name: "本期",
                type: 'bar',
                data: getwkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(63, 255, 234, 0.82)' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'rgba(0, 126, 255, 0.2)' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            },{
                name: "同期",
                type: 'bar',
                data: getlkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(255, 234, 0, 1)' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'rgba(255, 161, 26, 0.2)' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            }
        ]
    }
    myChart.setOption(option);
    // 环比分析
    var myChart = echarts.init(document.getElementById('hbfx'));
    var  getsyzl=['道里','道外','香坊','南岗'];
    var  getwkrs=[826,673,588,782];
    var  getlkrs=[686,703,788,882];
    option= {
        grid: {
            top: '20%',
            left: '7%',
            right: '2%',
            bottom: '3%',
            containLabel: true
        },
        legend: {
            data: ['本期','同期'],
            right: "3%",
            top:"4%",
            textStyle: {
                color: "#A1D5FF",
                fontSize: 12
            },
            itemWidth: 12,  // 设置宽度
            itemHeight:16, // 设置高度
            itemGap: 12 // 设置间距
        },
        xAxis: [{
            data: getsyzl,
            axisLabel: {
                margin: 10,
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                lineStyle: {
                    color: '#102E74',
                }
            },
            axisTick: {
                show: false
            },
        }],
        yAxis: [{
            type:'value',
            axisLabel: {
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                show:false,
            },
            axisTick: {
                show: false
            },
            splitLine: {
                lineStyle: {
                    color: '#102E74',
                }
            }
        }],
        series: [
            {
                name: "本期",
                type: 'bar',
                data: getwkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(63, 255, 234, 0.82)' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'rgba(0, 126, 255, 0.2)' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            },{
                name: "同期",
                type: 'bar',
                data: getlkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(255, 234, 0, 1)' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'rgba(255, 161, 26, 0.2)' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            }
        ]
    }
    myChart.setOption(option);

    // 案件趋势
    var caseTrend = echarts.init(document.getElementById('ajqs'));
    optionCaseTrend = {
        tooltip: {
            trigger: "axis",
            show: true,
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        legend: {
            data: ["结案", "立案", "处置", "上报"],
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        calculable: true,
        xAxis: [
            {
                type: "category",
                boundaryGap: false,
                data: ["3月11日", "3月12日", "3月13日", "3月14日", "3月15日", "3月16日", "3月17日"],
                splitLine: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                },
                axisLabel: {
                    textStyle: {
                        color: "rgba(255, 255, 255, 0.6)"
                    }
                }
            }
        ],
        yAxis: [
            {
                type: "value",
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: "#C4EAFC"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "rgba(255, 255, 255, 0.6)"
                    }
                }
            }
        ],
        series: [
            {
                name: "结案",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color:'#F07C88'
                    }
                },
                data: [10, 12, 21, 54, 260, 830, 710]
            },
            {
                name: "立案",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color:'#4477C9'
                    }
                },
                data: [30, 182, 434, 791, 390, 30, 10]
            },
            {
                name: "处置",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color: "#1FD8EE"
                    }
                },
                data: [320, 132, 61, 234, 120, 90, 20]
            },
            {
                name: "上报",
                type: "line",
                symbol: "none",
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color: "#A282E4"
                    }
                },

                data: [260, 132, 61, 234, 390, 30, 10]
            }
        ],
        grid: {
            borderWidth: 1
        }
    }
    caseTrend.setOption(optionCaseTrend);

    // 部门考核
    var myChart = echarts.init(document.getElementById('bmkh'));
    option ={
        tooltip: {
            trigger: "axis",
            axisPointer: {
                type: "shadow"
            }
        },
        legend: {
            itemHeight: 15,
            itemWidth: 15,
            data:[
                { name: "得分", icon: "roundRect" },
            ],
            x: "right",
            y: "bottom",
            orient: "vertical",
            backgroundColor: "rgba(0, 0, 0, 0)",
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        calculable: true,
        xAxis: [
            {
                type: "value",
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                splitArea: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                },
                axisLabel: {
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                }
            }
        ],
        yAxis: [
            {
                type: "category",
                data: ["部门1", "部门2", "部门3", "部门4"],
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                },
                splitArea: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                }
            }
        ],
        series: [
            {
                name: "得分",
                type: "bar",
                stack: "总量",
                itemStyle: {
                    normal: {
                        barBorderRadius: [30, 30, 30, 30],
                        label: {
                            show: true,
                            position: "inside"
                        },
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#6A16D9'
                        }, {
                            offset: 1,
                            color: '#8152F5'
                        }]),
                    }
                },
                data: [320, 302, 301, 334],
                barGap: "53%",
                barMinHeight: 12,
                barWidth: 15
            }
        ],
        grid: {
            left: '2%',
            right: '2%',
            bottom: '2%',
            top: '2%',
            containLabel: true
        },
    }
    myChart.setOption(option);

    // 人员考核
    var myChart = echarts.init(document.getElementById('rykh'));
    option = {
        tooltip: {
            trigger: "axis",
            axisPointer: {
                type: "shadow"
            }
        },
        legend: {
            itemHeight: 15,
            itemWidth: 15,
            data:[
                { name: "得分", icon: "roundRect" },
            ],
            x: "right",
            y: "bottom",
            orient: "vertical",
            backgroundColor: "rgba(0, 0, 0, 0)",
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        calculable: true,
        xAxis: [
            {
                type: "value",
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                splitArea: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                },
                axisLabel: {
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                }
            }
        ],
        yAxis: [
            {
                type: "category",
                data: ["人员1", "人员2", "人员3", "人员4"],
                splitLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                },
                splitArea: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                }
            }
        ],
        series: [
            {
                name: "得分",
                type: "bar",
                stack: "总量",
                itemStyle: {
                    normal: {
                        barBorderRadius: [30, 30, 30, 30],
                        label: {
                            show: true,
                            position: "inside"
                        },
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#0ED7EE'
                        }, {
                            offset: 1,
                            color: '#0076FF'
                        }]),
                    }
                },
                data: [12, 11, 6, 2],
                barGap: "53%",
                barMinHeight: 12,
                barWidth: 13
            }
        ],
        grid: {
            left: '2%',
            right: '2%',
            bottom: '2%',
            top: '2%',
            containLabel: true
        },
    }
    myChart.setOption(option);

    // 问题来源
    var myChart = echarts.init(document.getElementById('wtly'));
    var colorList = ['#A854FF', '#FFD013', '#2D9FFF', '#2DFFFD']

    option = {
        title: {
            x: 'center',
            y: 'center',
            textStyle: {
                fontSize: 20
            }
        },
        grid: {
            left: '3%',
            bottom: '3',
            // right: '5%',
            containLabel: true,
            width:'80%', // grid 组件的宽度。默认自适应。
            height:'95%'
        },
        legend: {
            show:true,
            orient: "vertical",
            itemHeight: 15,
            itemWidth: 15,
            data:[
                { name: "巡查上报", icon: "roundRect" },
                { name: "热线上报", icon: "roundRect" },
                { name: "领导交办", icon: "roundRect" },
                { name: "物联感知", icon: "roundRect" },
            ],
            y: "bottom",
            x: "right",
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        tooltip: {
            trigger: 'item'
        },
        series: [{
            type: 'pie',
            center: ['50%', '50%'],
            radius: ['44%', '75%'],
            clockwise: true,
            avoidLabelOverlap: true,
            hoverOffset: 15,
            itemStyle: {
                normal: {
                    color: function(params) {
                        return colorList[params.dataIndex]
                    }
                }
            },
            label: {
                show: true,
                position: 'outside',
                formatter: '{a|{b}：{d}%}\n{hr|}',
                rich: {
                    hr: {

                        backgroundColor: 't',
                        borderRadius: 3,
                        width: 3,
                        height: 3,
                        padding: [3, 3, 0, -12]
                    },
                    a: {
                        padding: [-30, 15, -20, 15]
                    }
                }
            },
            labelLine: {
                normal: {
                    length: 10,
                    length2: 20,
                    lineStyle: {
                        width: 1
                    }
                }
            },
            data: [{
                'name': '巡查上报',
                'value': 1.45
            }, {
                'name': '热线上报',
                'value': 2.93
            }, {
                'name': '领导交办',
                'value': 3.15
            }, {
                'name': '物联感知',
                'value': 4.78

            }
            ],
        }]
    };
    myChart.setOption(option);

    // 人员管理
    var myChart = echarts.init(document.getElementById('rygl'));
    option = {
        tooltip: {
            trigger: "axis",
            axisPointer: {
                type: "shadow"
            }
        },
        legend: {
            itemHeight: 15,
            itemWidth: 15,
            data:[
                { name: "在线", icon: "roundRect" },{ name: "离线", icon: "roundRect" },
            ],
            x: "right",
            y: "bottom",
            orient: "vertical",
            backgroundColor: "rgba(0, 0, 0, 0)",
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        grid: {
            left: '3%',
            bottom: '3',
            // right: '5%',
            containLabel: true,
            width:'80%', // grid 组件的宽度。默认自适应。
            height:'95%'
        },
        calculable: true,
        xAxis: [
            {
                type: "value",
                axisLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                },
                splitArea: {
                    show: false
                }
            }
        ],
        yAxis: [
            {
                type: "category",
                data: ["基层人员", "考评人员", "处置人员", "监督人员"],
                axisLine: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    textStyle: {
                        color: "rgb(255, 255, 255)"
                    }
                },
                axisTick: {
                    show: false
                },
                splitLine: {
                    show: false
                },
                splitArea: {
                    show: false
                }
            }
        ],
        series: [
            {
                name: "在线",
                type: "bar",
                stack: "总量",
                barWidth: 13,
                itemStyle: {
                    normal: {
                        barBorderRadius: [30,0, 0, 30],
                        label: {
                            show: true,
                            position: "inside",

                        },
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#0ED7EE'
                        }, {
                            offset: 1,
                            color: '#0076FF'
                        }]),
                    }
                },
                data: [320, 302, 301, 334]
            },
            {
                name: "离线",
                type: "bar",
                barWidth: 13,
                stack: "总量",
                itemStyle: {
                    normal: {
                        barBorderRadius: [0, 30, 30, 0],
                        label: {
                            show: true,
                            position: "inside",

                        },
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#6A16D9'
                        }, {
                            offset: 1,
                            color: '#8152F5'
                        }]),
                    }
                },
                data: [120, 132, 101, 134]
            }
        ]
    }
    myChart.setOption(option);
</script>
</html>
