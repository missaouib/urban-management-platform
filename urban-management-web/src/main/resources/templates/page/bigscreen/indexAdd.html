<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>数字化指挥中心</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/addScreen.css}"/>
    <link th:href="@{/css/gridInformation.css}" rel="stylesheet" type="text/css">
</head>
<body>
<div class="screen flexC">
    <div class="top flex">
        <div class="date flex">
            <div class="n-title-left"></div>
            <span class="dateNum flex" id="year"></span><span class="dateText">年</span>
            <span class="dateNum flex" id="mon"></span><span class="dateText">月</span>
            <span class="dateNum flex" id="day"></span><span class="dateText">日</span>
            <span class="dateText">气温</span><span class="dateNum flex" id="hot"></span>
        </div>
        <div class="title flex title-center">
            <img th:src="@{/img/n-title.png}" style="width: 100%;height: 100%;">
        </div>
        <div class="time flex">
            <div class="n-title-right"></div>
            <span class="dateText flex" id="apm"></span><span class="dateNum flex" id="hour"></span>
            <span class="dateText">点</span><span class="dateNum flex" id="min"></span>
            <span class="dateText">分</span><span class="dateText">星期</span>
            <span class="dateNum flex" id="week"></span>
        </div>
    </div>
    <div class="bottom flex">
        <div class="le flexC">
            <div class="mathBox flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">高发区域</div>
                    <div class="n-title2"></div>
                </div>

                <!-- 表格 -->
                <div class="chart" id="gfqy"></div>
            </div>
            <div class="mathBox flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">高发类型</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="gflx"></div>
            </div>
            <div class="lessBox flex">
                <div class="hug flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">同比分析</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="tbfx"></div>
                </div>
                <div class="hug flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">环比分析</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="hbfx"></div>
                </div>
            </div>
        </div>
        <div class="center flexC">
            <div class="maps flex"  id="map" >
                <!-- 上报立案处置结案 -->
                <div class="ctrl_top flex">
                    <div class="text_ctrl flexC" id="reporting">
                        <span class="topVtrl_title">上报</span><span>78个</span>
                    </div>
                    <div class="text_ctrl flexC" id="register">
                        <span class="topVtrl_title">立案</span><span>23个</span>
                    </div>
                    <div class="text_ctrl flexC" id="caseclosed">
                        <span class="topVtrl_title">处置</span><span>3个</span>
                    </div>
                    <div class="text_ctrl flexC" id="caseDispose">
                        <span class="topVtrl_title">结案</span><span>46个</span>
                    </div>
                </div>
                <!-- 人员车辆摄像头 -->
                <div class="ctrl_left flexC">
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">人员</div>
                    </div>
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">车辆</div>
                    </div>
                    <div class="left_ctrl_box flexC">
                        <div class="ship"></div>
                        <div class="ship_text">摄像头</div>
                    </div>
                </div>
            </div>
            <div class="chearts flex">
                <div class="dom_pach flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">案件动态</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart">
                        <div class="tableTitle">
                            <div class="tabletext">
                                <span class="text_inner_info">实时情况</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">案件编号</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">类型</span>
                            </div>
                            <div class="tabletext">
                                <span class="text_inner_info">地区</span>
                            </div>
                        </div>
                        <div class="table"  style="height: 80%;margin-top: 10px">
                            <div id="scroll">
                                <div id="con1">
                                    <ul>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">南岗</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">23001572762</span>
                                            <span class="over_ell">南岗区花园街</span>
                                            <span class="over_ell">2</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">1223318988123</span>
                                            <span class="over_ell">南岗区儿童公园</span>
                                            <span class="over_ell">1</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">香坊区文正街</span>
                                            <span class="over_ell">12</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">道里区花园街</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                        <li class="tableOptions mach_opt">
                                            <span class="mach_img">
                                                <img th:src="@{/img/bg_queen.png}">
                                            </span>
                                            <span class="over_ell">2300213123333333333335</span>
                                            <span class="over_ell">道里区中央大街</span>
                                            <span class="over_ell">202</span>
                                        </li>
                                    </ul>
                                </div>

                                <div class="con2"></div>
                                <div class="con2"></div>
                                <div class="con2"></div>
                                <div class="con2"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dom_pach flexC">
                    <div class="n-title flex">
                        <div class="n-title1"></div>
                        <div class="charTitle flex">案件趋势</div>
                        <div class="n-title3"></div>
                    </div>
                    <!-- 表格 -->
                    <div class="chart" id="ajqs"></div>
                </div>
            </div>
        </div>
        <div class="ri flexC">
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">人员管理</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="rygl"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">问题来源</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="wtly"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">部门考核</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="bmkh"></div>
            </div>
            <div class="ri_much flexC">
                <div class="n-title flex">
                    <div class="n-title1"></div>
                    <div class="charTitle flex">人员考核</div>
                    <div class="n-title2"></div>
                </div>
                <!-- 表格 -->
                <div class="chart" id="rykh"></div>
            </div>
        </div>
    </div>
</div>

</body>

<th:block th:include="page/fragments/common :: common_js"/>
<!--<th:block th:include="page/fragments/common :: echarts_js"/>-->
<!--<script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js" type="text/javascript"></script>-->
<!--<th:block th:include="page/fragments/common :: echarts_liquidfill_js"/>-->
<script type="text/javascript" th:src="@{/plugins/echarts/newEcharts.min.js}"></script>
<th:block th:include="page/fragments/common :: map_js"/>
<th:block th:include="page/fragments/common :: mapinit_js"/>
<script th:src="@{/js/index.js}"></script>
<script src="https://pv.sohu.com/cityjson?ie=utf-8" type="text/javascript"></script>
<script>
    var countUrl = /*[[@{/bigscreen/count}]]*/ "/bigscreen/count";
    var showPointsUrl = /*[[@{/bigscreen/showPoints}]]*/ "/bigscreen/showPoints";
    var findHighIncidenceUrl = /*[[@{/commandSubsystem/findHighIncidence}]]*/ "/commandSubsystem/findHighIncidence";
    var getTrendAnalysisUrl = /*[[@{/commandSubsystem/getTrendAnalysis}]]*/ "/commandSubsystem/getTrendAnalysis";

    $(function () {


        var date = new Date()
        let YYYY = date.getFullYear()
        $("#year").html(YYYY)
        let dd = date.getMonth()
        $("#mon").html(dd)
        let myday = date.getDate()
        $("#day").html(myday)
        let day = date.getDay()
        $("#week").html(day)
        setInterval(() => {
            let HH = date.getHours()
            if (HH >= 12){
                $("#apm").html('下午')
            }else {
                $("#apm").html('上午')
            }
            let mm = date.getMinutes()
            $("#hour").html(HH)
            $("#min").html(mm)
        }, 1000);


        getWeather();
        function getWeather() {
            jQuery.support.cors = true;
            $.ajax({
                url: "http://wthrcdn.etouch.cn/weather_mini",
                type: "GET",
                dataType: 'json',
                data: {city: (returnCitySN.cname).split('省')[1]}, //(returnCitySN.cname).split('省')[1]：获取所在的市

                success: function (res) {
                    //var res=JSON.parse(res);
                    var city = res.data.city;//所在城市
                    var maxTemperature = res.data.forecast[0].high;//最高温度
                    var minTemperature = res.data.forecast[0].low;//最低温度
                    var weather = minTemperature.split(' ')[1] + '~' + maxTemperature.split(' ')[1];
                    var type = res.data.forecast[0].type;//天气状态
                    $("#hot").html(maxTemperature.slice(3))
                },
                error: function (err) {
                    console.log(err)
                }
            });
        }

        var time = 60;
        var box = document.getElementById('scroll');
        var con1 = document.getElementById('con1');
        var con2 = document.querySelectorAll('.con2');
        $(".con2").html($("#con1").html())

        function Up() {
            if (box.scrollTop >= con1.offsetHeight) {
                box.scrollTop = 0;
            } else {
                box.scrollTop++
            }
        }

        var setlId = setInterval(Up, time);

        $("#scroll").mouseover(function () {
            clearInterval(setlId);
        })

        $("#scroll").mouseleave(function () {
            setlId = setInterval(Up, time);
        })

        $("#reporting").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "reporting", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });

        })
        $("#register").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "register", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });

        })
        $("#caseDispose").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "caseDispose", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });
        });
        $("#caseclosed").click(function () {
            layerMap.getSource().clear()
            var timeType = 'year';
            $.ajaxUtil.get(showPointsUrl + "?timeType=" + timeType + "&showType=" + "caseclosed", function (e) {
                var data = e.data;
                for (let i = 0; i < data.length; i++) {
                    setPoint(data[i].coordinate.split(" ")[0],
                        data[i].coordinate.split(" ")[1],
                        data[i].eventId, data[i].eventCode, data[i].represent, data[i].eventTypeName);
                }
            });
        });


        function setPoint(x, y, id, eventCode, represent, eventTypeName) {
            let point = new ol.Feature({
                geometry: new ol.geom.Point([x, y]),
                data: {
                    eventId: id,
                    eventCode: eventCode,
                    represent: represent,
                    eventTypeName: eventTypeName,
                    coordinate: x + "," + y
                }
            });
            point.setStyle(new ol.style.Style({
                image: new ol.style.Icon({
                    src: '../img/dwpoint3.png'
                })
            }));
            layerMap.getSource().addFeature(point);
        }



    })
    // 高发区域
    var myChart = echarts.init(document.getElementById('gfqy'));
    option = {
        // backgroundColor: '#001120',
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        legend: {
            data:['上报','立案','处置','结案'],
            textStyle: {
                color: 'rgba(55,255,249,1)'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                data : ['道里','道外','香坊','南岗','平房'],
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(55,255,249,1)',
                    }
                },
                axisLabel: {
                    color: 'rgba(55,255,249,1)'
                }
            }
        ],
        yAxis : [
            {
                type : 'value',
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(55,255,249,1)',
                    }
                }
            }
        ],
        series : [
            {
                name:'上报',
                type:'bar',
                barWidth: 13,
                itemStyle: {
                    barBorderRadius: [5, 5, 0, 0],
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: "rgba(63, 255, 234, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[120, 132, 101, 134, 90, 230, 210]
            },

            {
                name:'立案',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: [5, 5, 0, 0],
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(255, 119, 87, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            },
            {
                name:'处置',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: [5, 5, 0, 0],
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(168, 84, 255, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            },
            {
                name:'结案',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: [5, 5, 0, 0],
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(255, 234, 0, 1)"
                    },
                        {
                            offset: 1,
                            color: "rgba(8,228,222,0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            }

        ]
    };
    myChart.setOption(option);

   // 高发类型
    var myChart = echarts.init(document.getElementById('gflx'));
    option = {
        // backgroundColor: '#001120',
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        legend: {
            data:['上报','立案','处置','结案'],
            textStyle: {
                color: 'rgba(55,255,249,1)'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                data : ['污水井盖','私搭乱建','暴露垃圾','排水井盖'],
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(55,255,249,1)',
                    }
                },
                axisLabel: {
                    color: 'rgba(55,255,249,1)'
                }
            }
        ],
        yAxis : [
            {
                type : 'value',
                splitLine: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(55,255,249,1)',
                    }
                }
            }
        ],
        series : [
            {
                name:'上报',
                type:'bar',
                 barWidth : 13,
                itemStyle: {
                    barBorderRadius: 5,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0,
                        color: "rgba(63, 255, 234, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[120, 132, 101, 134, 90, 230, 210]
            },
            {
                name:'立案',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: 5,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(255, 119, 87, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            },
            {
                name:'处置',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: 5,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(168, 84, 255, 0.82)"
                    },
                        {
                            offset: 1,
                            color: "rgba(0, 126, 255, 0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            },
            {
                name:'结案',
                type:'bar',
                 barWidth : 13,
                barGap: '-100%',
                stack: '广告',
                itemStyle: {
                    barBorderRadius: 5,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.4,
                        color: "rgba(255, 234, 0, 1)"
                    },
                        {
                            offset: 1,
                            color: "rgba(8,228,222,0.2)"
                        }
                    ])
                },
                data:[220, 182, 191, 234, 290, 330, 310]
            }

        ]
    };
    myChart.setOption(option);

    // 同比分析
    var myChart = echarts.init(document.getElementById('tbfx'));
    var  getsyzl=['道里','道外','香坊','南岗'];
    var  getwkrs=[826,673,588,782];
    var  getlkrs=[686,703,788,882];
    option= {
        grid: {
            top: '20%',
            left: '7%',
            right: '2%',
            bottom: '3%',
            containLabel: true
        },
        legend: {
            data: ['本期','同期'],
            right: "3%",
            top:"4%",
            textStyle: {
                color: "#A1D5FF",
                fontSize: 12
            },
            itemWidth: 12,  // 设置宽度
            itemHeight:16, // 设置高度
            itemGap: 12 // 设置间距
        },
        xAxis: [{
            data: getsyzl,
            axisLabel: {
                margin: 10,
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                lineStyle: {
                    color: '#102E74',
                }
            },
            axisTick: {
                show: false
            },
        }],
        yAxis: [{
            type:'value',
            axisLabel: {
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                show:false,
            },
            axisTick: {
                show: false
            },
            splitLine: {
                lineStyle: {
                    color: '#102E74',
                }
            }
        }],
        series: [
            {
                name: "本期",
                type: 'bar',
                data: getwkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#3FFFEA' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'transparent' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            },{
                name: "同期",
                type: 'bar',
                data: getlkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#FFEA00' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: '#FFA11A' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            }
        ]
    }
    myChart.setOption(option);
    // 环比分析
    var myChart = echarts.init(document.getElementById('hbfx'));
    var  getsyzl=['道里','道外','香坊','南岗'];
    var  getwkrs=[826,673,588,782];
    var  getlkrs=[686,703,788,882];
    option= {
        grid: {
            top: '20%',
            left: '7%',
            right: '2%',
            bottom: '3%',
            containLabel: true
        },
        legend: {
            data: ['本期','同期'],
            right: "3%",
            top:"4%",
            textStyle: {
                color: "#A1D5FF",
                fontSize: 12
            },
            itemWidth: 12,  // 设置宽度
            itemHeight:16, // 设置高度
            itemGap: 12 // 设置间距
        },
        xAxis: [{
            data: getsyzl,
            axisLabel: {
                margin: 10,
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                lineStyle: {
                    color: '#102E74',
                }
            },
            axisTick: {
                show: false
            },
        }],
        yAxis: [{
            type:'value',
            axisLabel: {
                color: '#A1D5FF',
                textStyle: {
                    fontSize: 12
                },
            },
            axisLine: {
                show:false,
            },
            axisTick: {
                show: false
            },
            splitLine: {
                lineStyle: {
                    color: '#102E74',
                }
            }
        }],
        series: [
            {
                name: "本期",
                type: 'bar',
                data: getwkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#3FFFEA' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: 'transparent' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            },{
                name: "同期",
                type: 'bar',
                data: getlkrs,
                barWidth: '12px',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: '#FFEA00' // 0% 处的颜色
                        }, {
                            offset: 1,
                            color: '#FFA11A' // 100% 处的颜色
                        }], false),
                        barBorderRadius: [30, 30, 0, 0],
                    }
                },
            }
        ]
    }
    myChart.setOption(option);

    // 案件趋势
    var caseTrend = echarts.init(document.getElementById('ajqs'));
    optionCaseTrend = {
        tooltip: {
            trigger: "axis",
            show: true,
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        legend: {
            data: ["结案", "立案", "处置", "上报"],
            textStyle: {
                color: "rgb(255, 255, 255)"
            }
        },
        toolbox: {
            show: false,
            feature: {
                mark: {
                    show: true
                },
                dataView: {
                    show: true,
                    readOnly: true
                },
                magicType: {
                    show: false,
                    type: ["line", "bar", "stack", "tiled"]
                },
                restore: {
                    show: true
                },
                saveAsImage: {
                    show: true
                }
            }
        },
        calculable: true,
        xAxis: [
            {
                type: "category",
                boundaryGap: false,
                data: ["3月11日", "3月12日", "3月13日", "3月14日", "3月15日", "3月16日", "3月17日"],
                splitLine: {
                    show: false
                },
                nameTextStyle: {
                    color: "rgb(255, 255, 255)"
                },
                axisLabel: {
                    textStyle: {
                        color: "rgba(255, 255, 255, 0.6)"
                    }
                }
            }
        ],
        yAxis: [
            {
                type: "value",
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: "#C4EAFC"
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: "rgba(255, 255, 255, 0.6)"
                    }
                }
            }
        ],
        series: [
            {
                name: "结案",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color:'#FF7882'
                    }
                },
                data: [10, 12, 21, 54, 260, 830, 710]
            },
            {
                name: "立案",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color:'#00F8F2'
                    }
                },
                data: [30, 182, 434, 791, 390, 30, 10]
            },
            {
                name: "处置",
                type: "line",
                symbol: "none",
                smooth: true,
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        },
                        color: "rgb(187, 134, 244)"
                    }
                },
                data: [320, 132, 61, 234, 120, 90, 20]
            },
            {
                type: "line",
                symbol: "none",
                itemStyle: {
                    normal: {
                        areaStyle: {
                            type: "default"
                        }
                    }
                },
                name: "上报",
                data: [260, 132, 61, 234, 390, 30, 10]
            }
        ],
        grid: {
            borderWidth: 1
        }
    }
    caseTrend.setOption(optionCaseTrend);
    // 部门考核
    var myChart = echarts.init(document.getElementById('bmkh'));
    yName = ['部门1', '部门2', '部门3', '部门4']
    data = [13, 23, 34, 45]

    option = {
        grid: {
            left: '2%',
            right: '2%',
            bottom: '2%',
            top: '2%',
            containLabel: true
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'none'
            },
            formatter: function(params) {
                return params[0].name + ':' + params[0].value
            }
        },
        xAxis: {
            show: false,
            type: 'value'
        },
        yAxis: [{
            type: 'category',
            inverse: true,
            axisLabel: {
                show: true,
                textStyle: {
                    color: 'rgba(111, 132, 189, 1)'
                },
            },
            splitLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            axisLine: {
                show: false
            },
            data: yName
        }],
        series: [{
            name: '',
            type: 'bar',
            zlevel: 1,
            itemStyle: {
                normal: {
                    barBorderRadius: [30, 30, 30, 30],
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 0,
                        color: 'rgba(106, 22, 217, 1)'
                    }, {
                        offset: 1,
                        color: 'rgba(129, 82, 245, 1)'
                    }]),
                },
            },
            barWidth: 15,
            data: data,
            label: {
                normal: {
                    show: true,
                    position: 'right',
                    color: 'rgba(111, 132, 189, 1)',
                }
            },
        }, ]
    };
    myChart.setOption(option);

    // 人员考核
    var myChart = echarts.init(document.getElementById('rykh'));
    yName = ['人员1', '人员2', '人员3', '人员4']
    data = [13, 23, 34, 45]

    option = {
        grid: {
            left: '2%',
            right: '2%',
            bottom: '2%',
            top: '2%',
            containLabel: true
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'none'
            },
            formatter: function(params) {
                return params[0].name + ':' + params[0].value
            }
        },
        xAxis: {
            show: false,
            type: 'value'
        },
        yAxis: [{
            type: 'category',
            inverse: true,
            axisLabel: {
                show: true,
                textStyle: {
                    color: 'rgba(111, 132, 189, 1)'
                },
            },
            splitLine: {
                show: false
            },
            axisTick: {
                show: false
            },
            axisLine: {
                show: false
            },
            data: yName
        }],
        series: [{
            name: '',
            type: 'bar',
            zlevel: 1,
            itemStyle: {
                normal: {
                    barBorderRadius: [30, 30, 30, 30],
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 0,
                        color: 'rgba(14, 215, 238, 1)'
                    }, {
                        offset: 1,
                        color: 'rgba(0, 118, 255, 1)'
                    }]),
                },
            },
            barWidth: 15,
            data: data,
            label: {
                normal: {
                    show: true,
                    position: 'right',
                    color: 'rgba(111, 132, 189, 1)',
                }
            },
        }, ]
    };
    myChart.setOption(option);

    // 问题来源
    var myChart = echarts.init(document.getElementById('wtly'));
    var colorList = ['#A854FF', '#FFD013', '#2D9FFF', '#2DFFFD']

    option = {
        title: {
            x: 'center',
            y: 'center',
            textStyle: {
                fontSize: 20
            }
        },
        tooltip: {
            trigger: 'item'
        },
        series: [{
            type: 'pie',
            center: ['50%', '50%'],
            radius: ['44%', '75%'],
            clockwise: true,
            avoidLabelOverlap: true,
            hoverOffset: 15,
            itemStyle: {
                normal: {
                    color: function(params) {
                        return colorList[params.dataIndex]
                    }
                }
            },
            label: {
                show: true,
                position: 'outside',
                formatter: '{a|{b}：{d}%}\n{hr|}',
                rich: {
                    hr: {

                        backgroundColor: 't',
                        borderRadius: 3,
                        width: 3,
                        height: 3,
                        padding: [3, 3, 0, -12]
                    },
                    a: {
                        padding: [-30, 15, -20, 15]
                    }
                }
            },
            labelLine: {
                normal: {
                    length: 10,
                    length2: 20,
                    lineStyle: {
                        width: 1
                    }
                }
            },
            data: [{
                'name': '巡查上报',
                'value': 1.45
            }, {
                'name': '热线上报',
                'value': 2.93
            }, {
                'name': '领导交办',
                'value': 3.15
            }, {
                'name': '物联感知',
                'value': 4.78

            }
            ],
        }]
    };
    myChart.setOption(option);

    // 人员管理
    var myChart = echarts.init(document.getElementById('rygl'));
    option = {
        color: ["#65779E"],
        tooltip: {
            trigger: "axis",
            axisPointer: {
                // 坐标轴指示器，坐标轴触发有效
                type: "shadow" // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        grid: {
            left: "2%", //距离dom间距
            right: "2%",
            top: "5%",
            bottom: "1%"
        },
        legend: {
            data: [
                { name: "待审核", icon: "circle" },
                { name: "审核通过", icon: "circle" }
            ],
            // 大小 和位置 文字样式
            itemGap: 12,
            right: 0,
            top:-5,
            textStyle: {
                fontSize: 12,
                color: "#ffffff",
                fontFamily: "SourceHanSansCN-Regular"
            }
        },
        xAxis: [
            {
                type: "value",
                axisPointer: {
                    type: "shadow"
                },
                // 横坐标 分割线等取消显示
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                },
                splitLine: {
                    show: false
                },
                axisLabel: {
                    show: false
                }
            }
        ],
        yAxis: [
            {
                type: "category",
                inverse: true,
                axisLabel: {
                    verticalAlign: "bottom",
                    align: "left",
                    padding: [-50, 30, 20, 6],
                    textStyle: {
                        fontSize: 12,
                        color: "#fff",
                        fontFamily: "SourceHanSansCN-Regular"
                    }
                },
                // 纵坐标数据
                data: [
                    "政府救援队伍",
                    "企业救援队伍",
                    "社会救援队伍",
                    "物资储备库",

                ],
                yAxisIndex: 0,
                // 横坐标 分割线等取消显示
                axisTick: {
                    show: false
                },
                axisLine: {
                    show: false
                }
            },
            {
                type: "category",
                // inverse: true,
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    show: true,
                    inside: false,
                    verticalAlign: "bottom",
                    // 位置 上右下左
                    padding: [0, 10, 10, -40],
                    lineHeight: "20",
                    textStyle: {
                        fontSize: 12,
                        color: "#fff",
                        fontFamily: "SourceHanSansCN-Regular"
                    }
                },
                // 统计的总量 用纵坐标模拟
                // data: [111, 222, 333, 111]
            }
        ],
        series: [
            {
                name: "待审核",
                type: "bar",
                // 宽度
                barWidth: "16",
                // 堆叠
                stack: "总量",
                showBackground: true,
                // 全部背景
                backgroundStyle: {
                    color: "#fff"
                },
                data: [10, 11, 6, 8],
                itemStyle: {
                    normal: {
                        barBorderRadius: [20, 0, 0, 20],
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                        color: new echarts.graphic.LinearGradient(
                            0,
                            0,
                            1,
                            0,
                            [
                                {
                                    offset: 0,
                                    color: "#FFF0A0"
                                },
                                {
                                    offset: 1,
                                    color: "#FFD355"
                                }
                            ],
                            false
                        )
                    }
                }
            },

            {
                name: "审核通过",
                type: "bar",
                // 宽度
                barWidth: "16",
                // 堆叠
                stack: "总量",
                showBackground: true,
                // 全部背景
                backgroundStyle: {
                    color: "#EEF2F9"
                },
                data: [10, 11, 6, 8],
                itemStyle: {
                    normal: {
                        barBorderRadius: [0, 20, 20, 0],
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                        color: new echarts.graphic.LinearGradient(
                            0,
                            0,
                            1,
                            0,
                            [
                                {
                                    offset: 0,
                                    color: "#90BEFF"
                                },
                                {
                                    offset: 1,
                                    color: "#5EA1FF"
                                }
                            ],
                            false
                        )
                    }
                }
            }
        ]
    };
    myChart.setOption(option);
</script>
</html>
