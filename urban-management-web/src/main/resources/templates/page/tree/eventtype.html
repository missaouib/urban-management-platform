<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>选择事件类型</title>
    <th:block th:include="page/fragments/common :: common_css"/>
    <th:block th:include="page/fragments/common :: ztree_css"/>

    <!--    <link th:href="@{/css/tail.css}" rel="stylesheet" type="text/css">-->
</head>
<body>

    <div class="top table2_top">
        <!--        <div>-->
        <div class="top_out">
<!--            <input id="treeId"   name="treeId"    type="hidden" th:value="${dept.deptId}"/>-->
<!--            <input id="treeName" name="treeName"  type="hidden" th:value="${dept.deptName}"/>-->
            <input id="treeId"   name="treeId"    type="hidden" />
            <input id="treeName" name="treeName"  type="hidden" />
            <div class="treeDemo">
                <ul id="ztree" class="ztree"></ul>
            </div>
        </div>
    </div>

    <!--    </div>-->
<th:block th:include="page/fragments/common :: common_js"/>
<th:block th:include="page/fragments/common :: ztree_js"/>

<script type="text/javascript" th:inline="javascript">

    var tree = [[${tree}]];


    var setting = {
        callback: {
            onClick: zTreeOnClick
        },
        data: {
            keep: {
                parent: true,
                leaf: true
            },
            simpleData: {
                enable: true,
                idKey: 'id',
                pIdKey: 'parentId'
            },
            key: {
                name: "name"
            }
        }
    };

    $(function () {
        var zTreeObj = $.fn.zTree.init($("#ztree"), setting, tree);
    })

    function zTreeOnClick(event, treeId, treeNode) {
        var treeId = treeNode.id;
        var treeName = treeNode.name;
        $("#treeId").val(treeId);
        $("#treeName").val(treeName);
    }



</script>
</body>
</html>
